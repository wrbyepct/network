
{% load cache %}
{% cache 900 profile_albums_paginator profile.username page_obj.number %}
{% for album in albums %}
<div class="col-span-1" x-data="{ isHovered: false }">
  <div 
    @click="window.location.href = '{% url 'album_detail' album.pk profile.username %}'"
    class="block group cursor-pointer transform transition-all duration-300 hover:scale-105"
    @mouseenter="isHovered = true" 
    @mouseleave="isHovered = false">
    
    <!-- Holographic Album Card -->
    <div class="bg-white/5 border border-cyan-400/20 backdrop-blur-20 rounded-2xl p-3 shadow-xl shadow-cyan-500/10 
                transition-all duration-300 ease-out
                hover:-translate-y-1 hover:shadow-2xl hover:shadow-cyan-400/20 hover:bg-white/8 hover:border-cyan-400/30">
      
      <!-- Holographic Album Cover Display -->
      <div class="relative bg-gradient-to-br from-slate-800/20 to-slate-900/40 border border-cyan-400/30 
                  backdrop-blur-15 rounded-xl overflow-hidden" style="height: 160px;">
        {% if album.medias.first %}
          <!-- Album Cover Image -->
          <img 
            src="{{ album.medias.first.file.url }}" 
            class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105" 
            alt="Album cover"
          >
          <!-- Holographic Overlay Effect -->
          <div class="absolute inset-0 bg-gradient-to-br from-cyan-400/10 via-transparent to-emerald-400/10 
                      opacity-20 group-hover:opacity-40 transition-opacity duration-300"></div>
        {% else %}
          <!-- Holographic Turtle Shell -->
          <div class="w-full h-full flex items-center justify-center 
                      bg-gradient-to-br from-emerald-400/20 to-cyan-400/30 relative">
            <!-- Holographic Shell Pattern -->
            <div class="absolute inset-4 border border-emerald-400/40 rounded-full 
                        bg-gradient-to-br from-emerald-400/30 to-cyan-400/40 backdrop-blur-10
                        shadow-lg shadow-emerald-400/20">
              <!-- Shell Gems -->
              <div class="absolute top-2 left-2 w-4 h-4 bg-gradient-to-br from-emerald-300 to-cyan-400 
                          rounded-full shadow-sm shadow-emerald-400/50 border border-cyan-400/50"></div>
              <div class="absolute top-2 right-2 w-4 h-4 bg-gradient-to-br from-emerald-300 to-cyan-400 
                          rounded-full shadow-sm shadow-emerald-400/50 border border-cyan-400/50"></div>
              <div class="absolute bottom-2 left-1/2 transform -translate-x-1/2 w-4 h-4 
                          bg-gradient-to-br from-emerald-300 to-cyan-400 rounded-full 
                          shadow-sm shadow-emerald-400/50 border border-cyan-400/50"></div>
              <!-- Central Holographic Gem -->
              <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-6 h-6 
                          bg-gradient-to-br from-yellow-300/60 to-cyan-300/60 rounded-full
                          border border-yellow-400/40 shadow-lg shadow-yellow-400/30"></div>
            </div>
            <!-- Holographic Turtle Head -->
            <div class="absolute -top-1 left-1/2 transform -translate-x-1/2 w-6 h-4 
                        bg-gradient-to-br from-emerald-400/60 to-cyan-400/60 
                        border border-emerald-400/50 rounded-t-full backdrop-blur-10
                        shadow-sm shadow-emerald-400/30"></div>
            <!-- Glowing Eyes -->
            <div class="absolute -top-1 left-1/2 transform -translate-x-1/2 translate-x-1 w-1.5 h-1.5 
                        bg-black rounded-full shadow-sm shadow-cyan-400/50"></div>
            <div class="absolute -top-1 left-1/2 transform -translate-x-1/2 -translate-x-1 w-1.5 h-1.5 
                        bg-black rounded-full shadow-sm shadow-cyan-400/50"></div>
          </div>
        {% endif %}
        
        <!-- Holographic Photo Count Badge -->
        <div class="absolute top-2 right-2 bg-black/80 border border-cyan-400/40 text-cyan-400 
                    text-xs font-bold px-2 py-1 rounded backdrop-blur-10
                    shadow-lg shadow-cyan-400/30 transition-all duration-300
                    hover:shadow-xl hover:shadow-cyan-400/40 hover:text-cyan-300"
             style="font-family: 'Press Start 2P', monospace; font-size: 8px; 
                    text-shadow: 0 0 8px rgba(6, 182, 212, 0.5);">
          {{ album.medias_count }}ðŸ“¸
        </div>
        
        <!-- Holographic Hover Glow -->
        <div 
          class="absolute inset-0 bg-gradient-to-br from-cyan-400/20 to-emerald-400/20 
                 opacity-0 group-hover:opacity-30 transition-all duration-300 rounded-xl" 
          :class="isHovered ? 'animate-pulse' : ''">
        </div>
      </div>
      
      <!-- Holographic Album Info -->
      <div class="mt-4 text-center">
        <div class="bg-white/8 border border-white/20 backdrop-blur-15 rounded-xl px-4 py-3 
                    shadow-lg transition-all duration-300 hover:bg-white/12 hover:border-cyan-400/30">
          <div class="text-white/90 font-bold text-sm mb-1 break-words"
              style="font-family: 'Press Start 2P', monospace; font-size: 10px;
                     text-shadow: 0 0 10px rgba(52, 211, 153, 0.4);">
            {{ album.name }}
          </div>
          <p class="text-white/95 text-xs "
             style="font-family: 'Press Start 2P', monospace; font-size: 8px; text-shadow: 0 0 20px rgba(52, 211, 153, 0.8), 0 0 40px rgba(6, 182, 212, 0.4);" >
            {{ album.medias_count }} photo{{ album.medias_count|pluralize }}
          </p>
        </div>
      </div>
      
      <!-- Holographic Turtle Fins (Decorative) -->
      <div class="absolute -bottom-1 -left-1 w-3 h-2 bg-gradient-to-br from-emerald-400/60 to-cyan-400/60 
                  border border-emerald-400/50 rounded-b backdrop-blur-10 shadow-sm shadow-emerald-400/30"></div>
      <div class="absolute -bottom-1 -right-1 w-3 h-2 bg-gradient-to-br from-emerald-400/60 to-cyan-400/60 
                  border border-emerald-400/50 rounded-b backdrop-blur-10 shadow-sm shadow-emerald-400/30"></div>
    </div>
  </div>
</div>
{% endfor %}

{% url 'albums_paginate' profile.username as fetch_url %}
{% include 'common/next_media_batch.html' with fetch_url=fetch_url %}
{% endcache %}
