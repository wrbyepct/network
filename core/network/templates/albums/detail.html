{% extends 'network/layout.html' %}

<!-- TODO Change the bootstrap class to tailwind later -->

{% block body %}
  <div class="container py-4" >

    <!-- Album Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
      <div>
        <h2 class="h4 mb-0">{{ album.name }}</h2>
        <p class="text-muted small mb-0">{{ album.medias_count }} media item{{ album.medias_count|pluralize }}</p>
      </div>
      <a href="{% url 'profile_photos_albums' album.profile.username %}" class="btn btn-outline-secondary btn-sm">
        ‚Üê Back to albums
      </a>
    </div>

    <!-- Media Grid -->
    
    <div
      hx-get="{% url 'album_media_paginate' album.id %}"
      hx-target="#media-container"
      hx-trigger="load"
      hx-swap="beforeend"
      @htmx:after-request="if($event.detail.successful) $el.remove();">
    </div>

    {% include 'profiles/partials/media_container.html' with in_album_detail=True %}
  
    <!-- Media modal -->
     <!-- TODO Consider making medias in modal retrieve on click -->
    {% include 'common/media_modal.html' with medias=album.medias.all %}
  </div>

{% endblock %}
