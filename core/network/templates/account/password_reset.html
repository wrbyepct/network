{% extends "account/partials/auth_card.html" %}

{% block auth_content %}
  <!-- Turtle Password Reset Header -->
  <div class="text-center mb-8" x-init="inModal = true">
    <div class="flex justify-center mb-4">
      <img src="/media/defaults/turtle.png" alt="Turtle Password Reset" class="w-16 h-16 rounded-full border-2 border-yellow-400 shadow-[0_0_20px_rgba(251,191,36,0.4)]" style="image-rendering: pixelated;">
    </div>
    <h6 class="font-bold text-yellow-400 tracking-wider mb-2">LOST SHELL PASSWORD?</h6>
    <div class="text-xs text-yellow-200/70 tracking-wide space-y-1">
      <p>Don't worry, turtle friend!</p>
      <p>Enter your shell email below and we'll</p>
      <p>help you recover your pond access.</p>
    </div>
  </div>

  <form method="post" action="{% url 'account_reset_password' %}" class="space-y-6">
    {% csrf_token %}

    <!-- Error message -->
    {% if form.errors %}
      <div class="bg-red-900/30 border border-red-400/50 text-red-300 px-4 py-3 rounded-lg text-xs backdrop-blur-sm mb-4 shadow-[0_0_15px_rgba(239,68,68,0.2)]">
        <div class="flex items-center mb-2">
          <span class="text-red-400 mr-2">‚ö†Ô∏è</span>
          <span class="font-bold text-red-400 tracking-wide">SHELL ERROR DETECTED</span>
        </div>
        {% for error in form.email.errors %}
          <p class="text-red-200/90">‚Ä¢ {{ error }}</p>
        {% endfor %}
      </div>
    {% endif %}

    <!-- Email Input -->
    <div>
      <label class="block text-xs font-bold text-cyan-400 mb-2 tracking-wide">üìß SHELL EMAIL ADDRESS</label>
      <input
        type="email"
        name="email"
        value="{{ form.email.value|default_if_none:'' }}"
        placeholder="turtle@pond.com"
        class="holo-input w-full px-4 py-3 bg-black/30 border border-cyan-400/30 rounded-lg text-white placeholder-cyan-200/50 
               focus:border-cyan-400 focus:ring-0 focus:outline-none focus:shadow-[0_0_15px_rgba(6,182,212,0.3)] 
               transition-all duration-300 backdrop-blur-sm"
        required
        autofocus
      />
    </div>

    <!-- Submit Button -->
    <button type="submit" class="w-full nav-btn nav-btn-primary console-glow py-3 px-6 text-center font-bold tracking-wider transition-all duration-300 hover:-translate-y-1">
      üîß REPAIR SHELL ACCESS
    </button>
  </form>

  <!-- Footer Links -->
  <div class="text-center mt-8 space-y-3 text-cyan-200/80">
    <div class="flex space-x-4 justify-center items-center">
      <span>Remember your shell?</span>
      
      <a 
        hx-boost
        hx-get="{% url 'account_login' %}"
        hx-target="#modal-container"
        hx-select="#auth-modal-content"
        @htmx:after-request="if($event.detail.successful) showModal = true;"
        href="{% url 'account_login' %}" 
        class="nav-btn nav-btn-secondary"
        style="font-size: 8px;"
        >Dive Back In!</a>
    </div>
    
    <div class="flex space-x-4 justify-center items-center">
      <span>New to the pond?</span>
      
      <a 
        hx-boost
        hx-get="{% url 'account_signup' %}"
        hx-target="#modal-container"
        hx-select="#auth-modal-content"
        @htmx:after-request="if($event.detail.successful) showModal = true;"
        href="{% url 'account_signup' %}"
        class="nav-btn nav-btn-primary"
        style="font-size: 8px;"
        >Become a Turtler!</a>
    </div>
  </div>
{% endblock %}
