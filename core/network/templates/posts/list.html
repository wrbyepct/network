{% extends 'network/layout.html' %} 
{% load post_extra %}
{% block body %}
  <div x-data="{ 
    isPostDetail: false, 
    showCreatePostModal: false,

  
  }" > 
 
    <div class="container mt-4 ">
      <div class="row ">
        <div class="col-lg-8 mx-auto ">

          <div 
            id="incubating-egg-container"
            x-ref="eggDiv"
            x-effect="if(isIncubating) $nextTick(() => $dispatch('egg-fetch-ready'))"

            hx-get="{% url 'egg' %}"
            hx-trigger="egg-fetch-ready"
            hx-swap="innerHTML"
          ></div>

          <div x-show="!eggImage">
             {% include 'posts/partial/post_composer.html' %}
          </div>
          <!-- Component to wait for hatched event then retrieve hatched post -->
          <div 
            id="hatched-posts"
            
          ></div>
   
          {% for post in posts %}
              <div class="mb-4">
                {% include 'posts/post/list_card.html' %}
              </div>
          {% empty %}
            <p class="text-center text-muted">No posts to display.</p>
          {% endfor %}
        </div>
      </div>
      <!-- Pagination -->
        <div class="d-flex justify-content-around">
        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">Next</a>
            <a href="?page={{ page_obj.paginator.num_pages }}">Last &raquo;</a>
        {% elif page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
            <a href="?page={{ page_obj.paginator.start_index }}"> &laquo; First</a>
        {% endif %}
        </div>
    
    </div>

  </div>


{% endblock %} 
