<div class="container-fluid bg-[#8B4513] border-4 border-[#5D4037] p-6 mx-auto max-w-6xl" style="box-shadow: 8px 8px 0px #3B3B3B;">
  
  <!-- Header Section -->
  <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-8">
    <!-- Title with Pixel Shell Icon -->
    <div class="flex items-center gap-4">
      <!-- Pixelated Turtle Shell Icon -->
      <div class="w-12 h-12 bg-[#A0522D] border-3 border-[#5D4037] relative pixel-shell" style="box-shadow: 4px 4px 0px #3B3B3B;">
        <!-- Shell pattern -->
        <div class="absolute top-2 left-2 w-2 h-2 bg-[#CD853F]"></div>
        <div class="absolute top-2 right-2 w-2 h-2 bg-[#CD853F]"></div>
        <div class="absolute bottom-2 left-2 w-2 h-2 bg-[#CD853F]"></div>
        <div class="absolute bottom-2 right-2 w-2 h-2 bg-[#CD853F]"></div>
        <div class="absolute top-4 left-4 w-4 h-4 bg-[#FFD66F] border border-[#D4A843]"></div>
        <!-- Cute eyes -->
        <div class="absolute top-1 left-4 w-1 h-1 bg-[#000]"></div>
        <div class="absolute top-1 right-4 w-1 h-1 bg-[#000]"></div>
      </div>
      
      <span 
        class="text-2xl font-bold text-amber-400 pixel-text" 
        style="font-family: 'Press Start 2P'">SHELL GALLERY</span>
    </div>
    
    <!-- Upload Button - Pixel Game Style -->
    <div x-data="{ isPressed: false, isHovered: false }">
      <a href="{% url 'post_create' %}" 
         class="inline-flex items-center gap-3 bg-[#32CD32] border-3 border-[#228B22] text-[#004225] font-mono font-bold py-4 px-6 text-sm relative pixel-button transition-all duration-150 !no-underline"
         :class="isPressed ? 'pressed' : ''"
         @mousedown="isPressed = true"
         @mouseup="isPressed = false" 
         @mouseleave="isPressed = false; isHovered = false"
         @mouseenter="isHovered = true"
         style="box-shadow: 4px 4px 0px #1F5F1F, 8px 8px 0px #0F3F0F;">
        
        <!-- Pixel Camera Icon -->
        <div class="flex-shrink-0">
          <!-- Camera body -->
          <div class="w-8 h-6 bg-[#654321] border-2 border-[#4A4A4A] relative" style="box-shadow: 2px 2px 0px #2F2F2F;">
            <!-- Lens -->
            <div class="absolute top-1 left-1 w-4 h-4 bg-[#2F2F2F] border border-[#1A1A1A]">
              <div class="absolute top-0.5 left-0.5 w-3 h-3 bg-[#4169E1] border border-[#191970]"></div>
              <div class="absolute top-1 left-1 w-1 h-1 bg-[#87CEEB]" 
                   :class="isHovered ? 'animate-ping' : ''"></div>
            </div>
            <!-- Flash -->
            <div class="absolute -top-1 right-1 w-2 h-2 bg-[#FFD700] border border-[#DAA520]" 
                 :class="isHovered ? 'animate-pulse' : ''"></div>
            <!-- Viewfinder -->
            <div class="absolute -top-2 left-3 w-2 h-2 bg-[#654321] border border-[#4A4A4A]"></div>
          </div>
        </div>
        
        <span class="tracking-wider font-bold" style="font-family: 'Press Start 2P'">+ NEW SHELLS</span>
        
        <!-- Button press effect -->
        <div class="absolute inset-0 bg-[#228B22] opacity-0 transition-opacity duration-150"
             :class="isPressed ? 'opacity-40' : ''"></div>
      </a>
    </div>
  </div>

  <!-- Photo Tabs Section -->
  <div class="bg-[#A0522D] border-3 border-[#5D4037] p-4 mb-6" 
       style="box-shadow: 6px 6px 0px #3B3B3B;"
       id="photos-tabs"
       x-data="{ activeTab: '{{ current_photo_tab }}' }">
    
    
    <!-- Pixel Tabs -->
    <div class="flex flex-wrap gap-3">
      {% for tab in photo_tabs %}
      <div class="relative" style="font-family: 'Press Start 2P'">
        <div class="block px-6 py-3 font-bold text-sm border-3 transition-all duration-150 cursor-pointer pixel-tab"
           :class="{ 
             'bg-[#FFD66F] border-[#D4A843] text-[#8B4513] active-tab': activeTab === '{{ tab }}',
             'bg-[#CD853F] border-[#A0522D] text-[#5D4037] hover:bg-[#DEB887] hover:border-[#BC9A6A]': activeTab !== '{{ tab }}'
           }"
           :style="activeTab === '{{ tab }}' ? 'box-shadow: inset 4px 4px 0px #B8860B;' : 'box-shadow: 4px 4px 0px #8B4513;'"
           @click="activeTab = '{{ tab }}'"
           hx-get="{% url 'profile_photos_'|add:tab profile.username %}"
           hx-swap="innerHTML"
           hx-target="#media-container"
           hx-push-url="{% url 'profile_photos_'|add:tab profile.username %}">
          
          <!-- Tab Icon -->
          <div class="flex items-center gap-2">
            <div class="w-4 h-4 bg-[#8B4513] border border-[#5D4037] flex items-center justify-center text-xs">
              {% if tab == 'all' %}üóÇÔ∏è{% elif tab == 'photos' %}üì∑{% else %}üìÅ{% endif %}
            </div>
            <span class="tracking-wide">{{ tab|title|upper }}</span>
          </div>
          
          <!-- Active indicator -->
          <div x-show="activeTab === '{{ tab }}'" class="absolute -top-2 left-1/2 transform -translate-x-1/2">
            <div class="w-2 h-2 bg-[#FFD700] border border-[#DAA520] animate-bounce"></div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>

  <!-- Loading State -->
  <div hx-get="{% url 'profile_photos_'|add:current_photo_tab profile.username%}"
       hx-target="#media-container"
       hx-trigger="load"
       @htmx:after-request="if($event.detail.successful) $el.remove()"
       class="bg-[#CD853F] border-3 border-[#A0522D] p-8 mb-6 text-center" 
       style="box-shadow: 4px 4px 0px #8B4513;">
    
    <div class="flex items-center justify-center gap-4">
      <!-- Loading turtle -->
      <div class="w-8 h-8 bg-[#32CD32] border-2 border-[#228B22] relative animate-bounce">
        <div class="absolute top-1 left-1 w-6 h-6 bg-[#90EE90] border border-[#7CFC00]"></div>
        <div class="absolute top-2 left-2 w-1 h-1 bg-[#000]"></div>
        <div class="absolute top-2 right-2 w-1 h-1 bg-[#000]"></div>
      </div>
      
      <span class="font-mono font-bold text-[#5D4037] text-lg">LOADING MEMORIES...</span>
      
      <div class="flex gap-1">
        <div class="w-2 h-2 bg-[#FFD700] animate-pulse"></div>
        <div class="w-2 h-2 bg-[#FFD700] animate-pulse" style="animation-delay: 0.3s;"></div>
        <div class="w-2 h-2 bg-[#FFD700] animate-pulse" style="animation-delay: 0.6s;"></div>
      </div>
    </div>
  </div>
  
  <!-- Media Container -->
  <div class="bg-[#A0522D] border-3 border-[#5D4037] p-4" style="box-shadow: 6px 6px 0px #3B3B3B;">
    {% include 'profiles/partials/media_container.html' %}
  </div>
</div>

<style>
/* Pixel button effects */
.pixel-button:hover:not(.pressed) {
  transform: translate(-2px, -2px);
  box-shadow: 6px 6px 0px #1F5F1F, 10px 10px 0px #0F3F0F !important;
}

.pixel-button.pressed {
  transform: translate(4px, 4px);
  box-shadow: 0px 0px 0px #1F5F1F, 4px 4px 0px #0F3F0F !important;
}

.pixel-button:active {
  transform: translate(4px, 4px);
  box-shadow: 0px 0px 0px #1F5F1F, 4px 4px 0px #0F3F0F !important;
}

/* Pixel text styling */
.pixel-text {
  text-shadow: 3px 3px 0px #8B4513;
}

/* Tab hover effects */
.pixel-tab:hover:not(.active-tab) {
  transform: translate(-1px, -1px);
  box-shadow: 5px 5px 0px #8B4513 !important;
}

.pixel-tab:active {
  transform: translate(2px, 2px);
}

/* Border width utilities */
.border-3 {
  border-width: 3px;
}

/* Responsive adjustments */
@media (max-width: 640px) {
  .pixel-button {
    font-size: 0.75rem;
    padding: 0.75rem 1rem;
  }
  
  .pixel-text {
    font-size: 1.5rem;
  }
  
  .pixel-tab {
    font-size: 0.75rem;
    padding: 0.5rem 1rem;
  }
  
  .container-fluid {
    padding: 1rem;
  }
}

@media (max-width: 480px) {
  .pixel-text {
    font-size: 1.25rem;
  }
  
  .flex-col {
    align-items: center !important;
    text-align: center;
  }
}
</style>
